<launch>
  <arg name="paused" default="false"/>
  <arg name="debug" default="false"/>e
  <arg name="gui" default="false" />
  <include file="$(find jsk_mbzirc_common)/launch/mbzirc_arena_1.launch" >
    <arg name="paused" default="$(arg paused)"/>
    <arg name="debug" default="$(arg debug)"/>
    <arg name="gui" value="$(arg gui)" />
  </include>

  <!-- Spawn simulated quadrotor uav -->
  <include file="$(find hector_quadrotor_gazebo)/launch/spawn_quadrotor.launch" >
    <arg name="model" value="$(find jsk_mbzirc_tasks)/urdf/quadrotor_with_hokyo30lx_and_downward_cam.urdf.xacro"/>
    <arg name="x" value="65"/>
    <arg name="y" value="-25"/>
    <arg name="z" value="0.3"/>
  </include>

  <!-- workaround until https://github.com/ros/ros_comm/pull/728 get released --> 
  <node pkg="jsk_mbzirc_tasks" name="remain_time_text_to_overlay" type="relay_field_728"
        args="/remaining_time /remaining_time_overlay jsk_rviz_plugins/OverlayText
              'text: m.data' --wait-for-start" />

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find jsk_mbzirc_tasks)/config/task1.rviz"/>

  <node pkg="jsk_mbzirc_common" type="uav_teleop_keyboard" name="uav_teleop_keyboard"
        launch-prefix="xterm -e" />

</launch>
